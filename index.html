<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine Proposal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        .glow {
            box-shadow: 0 0 25px rgba(255, 105, 180, 1);
            animation: glow 1.5s infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 0 15px rgba(255, 105, 180, 0.8); }
            to { box-shadow: 0 0 30px rgba(255, 105, 180, 1); }
        }
        .flower-bg {
            background: url('https://raw.githubusercontent.com/naveen-kumawat/Flower/main/flower.png') no-repeat center center;
            background-size: cover;
        }
        .hidden { display: none; }
        
        /* No button shakes and moves away */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(5px); }
        }
        .moving-button:hover {
            position: absolute;
            animation: shake 0.3s infinite;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-pink-100 flower-bg">
    <div id="proposal-card" class="bg-white p-6 rounded-lg shadow-lg text-center max-w-sm glow">
        <h2 class="text-2xl font-bold text-pink-600">Valentine's Proposal üíñ</h2>
        <div class="mt-4">
            <input type="text" id="yourName" placeholder="Enter your name" class="border p-2 rounded w-full shadow-md form-control">
            <input type="text" id="bfName" placeholder="Enter your boyfriend's name" class="border form-control p-2 rounded w-full mt-2 shadow-md">
            <button onclick="askVal()" class="bg-pink-500 text-white px-4 py-2 rounded mt-4 hover:bg-pink-700 shadow-lg">Ask</button>
        </div>
    </div>
    
    <script>
        function askVal() {
            const yourName = document.getElementById('yourName').value;
            const bfName = document.getElementById('bfName').value;
            if (!yourName || !bfName) {
                alert('Please enter both names!');
                return;
            }
            document.getElementById('proposal-card').innerHTML = `
                <h2 class='text-2xl font-bold text-pink-600'>Hey ${bfName},</h2>
                <p class='text-lg mt-2'>${yourName} is asking...</p>
                <h3 class='text-xl font-bold mt-4'>Will you be my Valentine? ‚ù§Ô∏è</h3>
                <button id="yesButton" onclick="showFlowers('${yourName}', '${bfName}')" class='bg-green-500 text-white px-4 py-2 rounded mt-4 hover:bg-green-700 shadow-lg'>Yes</button>
                <button id="noButton" class='bg-red-500 text-white px-4 py-2 rounded mt-4 hover:bg-red-700 ml-2 shadow-lg moving-button' onclick="playfullyDeny()">No</button>
            `;
        }
        
        function showFlowers(yourName, bfName) {
            document.getElementById('proposal-card').innerHTML = `
                <h2 class='text-2xl font-bold text-pink-600'>Yay! üíñ</h2>
                <p class='text-lg mt-2'>Wishing you both a beautiful Valentine's Day! üåπ</p>
                <div class='mt-4 animate-pulse glow p-6 rounded-lg bg-pink-200 shadow-xl text-3xl'>üå∏üíêüå∫üå∑üåπ</div>
            `;
            sendEmail(yourName, bfName, "Accepted");
        }
        
        function playfullyDeny() {
            document.getElementById('noButton').innerHTML = "Oops, no isn't an option! üòú";
            setTimeout(() => {
                document.getElementById('noButton').style.display = 'none';
            }, 2000);
        }
        
        function sendEmail(yourName, bfName, status) {
            const emailData = {
                yourName,
                bfName,
                status,
                message: `${yourName} just proposed to ${bfName} and the response was: ${status}! üíñ`
            };

            fetch('https://formspree.io/f/mgvolkge', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(emailData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Email sent:', data);
                alert("A confirmation email has been sent!");
            })
            .catch(error => {
                console.error('Error:', error);
                alert("There was an error sending the email.");
            });
        }
    </script>
</body>
</html>
